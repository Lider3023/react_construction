import React, { useState, type FC } from "react";
import "./Navbar.scss";
import { Link, NavLink } from "react-router-dom";
import { logo } from "../../utils/img";
import { motion } from "framer-motion";
import CustomBtn from "../../UI/CustomBtn/CustomBtn";
import { useActiveSection } from "../../utils/useActiveSection";

const Navbar: FC = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  // const handleScroll = (id: string) => {
  //   const el = document.getElementById(id);
  //   if (el) {
  //     el.scrollIntoView({ behavior: "smooth" });
  //   }
  // };

  return (
    <nav className="navbar">
      <div className="container">
        <div className="navbar__content">
          <Link to="/#home">
            <motion.img src={logo} alt="" className="navbar__content_logo" />
          </Link>
          <div className="navbar__info">
            <button
              className="burger"
              onClick={() => setIsMenuOpen(!isMenuOpen)}
              aria-label="Toggle menu"
            >
              <motion.span
                animate={
                  isMenuOpen ? { rotate: 45, y: 8 } : { rotate: 0, y: 0 }
                }
                transition={{ duration: 0.1, type: "spring" }}
                className="bar"
              ></motion.span>
              <motion.span
                animate={{ opacity: isMenuOpen ? 0 : 1 }}
                transition={{ duration: 0.1, type: "spring" }}
                className="bar"
              ></motion.span>
              <motion.span
                animate={
                  isMenuOpen ? { rotate: -45, y: -9 } : { rotate: 0, y: 0 }
                }
                transition={{ duration: 0.1, type: "spring" }}
                className="bar"
              ></motion.span>
            </button>

            <ul className={`navbar__content_list ${isMenuOpen ? "open" : ""}`}>
              <li>
                <Link to="/#home" className={`link ${useActiveSection('home') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Home
                  <svg
                    width="8"
                    height="5"
                    viewBox="0 0 8 5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.89865 0.671973C7.94703 0.720353 7.97122 0.775989 7.97122 0.838883C7.97122 0.901776 7.94703 0.957413 7.89865 1.00579L4.51692 4.38753C4.46854 4.43591 4.4129 4.4601 4.35001 4.4601C4.28711 4.4601 4.23148 4.43591 4.1831 4.38753L0.80136 1.00579C0.75298 0.957413 0.72879 0.901776 0.72879 0.838883C0.72879 0.775989 0.75298 0.720353 0.80136 0.671973L1.16421 0.309126C1.21259 0.260746 1.26822 0.236557 1.33112 0.236557C1.39401 0.236557 1.44965 0.260746 1.49803 0.309126L4.35001 3.16111L7.20198 0.309126C7.25036 0.260746 7.306 0.236557 7.36889 0.236557C7.43179 0.236557 7.48742 0.260746 7.5358 0.309126L7.89865 0.671973Z"
                      fill="white"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link to="/#works" className={`link ${useActiveSection('works') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Pages
                  <svg
                    width="8"
                    height="5"
                    viewBox="0 0 8 5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.89865 0.671973C7.94703 0.720353 7.97122 0.775989 7.97122 0.838883C7.97122 0.901776 7.94703 0.957413 7.89865 1.00579L4.51692 4.38753C4.46854 4.43591 4.4129 4.4601 4.35001 4.4601C4.28711 4.4601 4.23148 4.43591 4.1831 4.38753L0.80136 1.00579C0.75298 0.957413 0.72879 0.901776 0.72879 0.838883C0.72879 0.775989 0.75298 0.720353 0.80136 0.671973L1.16421 0.309126C1.21259 0.260746 1.26822 0.236557 1.33112 0.236557C1.39401 0.236557 1.44965 0.260746 1.49803 0.309126L4.35001 3.16111L7.20198 0.309126C7.25036 0.260746 7.306 0.236557 7.36889 0.236557C7.43179 0.236557 7.48742 0.260746 7.5358 0.309126L7.89865 0.671973Z"
                      fill="white"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link to="/#offer" className={`link ${useActiveSection('offer') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Elements
                  <svg
                    width="8"
                    height="5"
                    viewBox="0 0 8 5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.89865 0.671973C7.94703 0.720353 7.97122 0.775989 7.97122 0.838883C7.97122 0.901776 7.94703 0.957413 7.89865 1.00579L4.51692 4.38753C4.46854 4.43591 4.4129 4.4601 4.35001 4.4601C4.28711 4.4601 4.23148 4.43591 4.1831 4.38753L0.80136 1.00579C0.75298 0.957413 0.72879 0.901776 0.72879 0.838883C0.72879 0.775989 0.75298 0.720353 0.80136 0.671973L1.16421 0.309126C1.21259 0.260746 1.26822 0.236557 1.33112 0.236557C1.39401 0.236557 1.44965 0.260746 1.49803 0.309126L4.35001 3.16111L7.20198 0.309126C7.25036 0.260746 7.306 0.236557 7.36889 0.236557C7.43179 0.236557 7.48742 0.260746 7.5358 0.309126L7.89865 0.671973Z"
                      fill="white"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link to="/#about" className={`link ${useActiveSection('about') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Portfolio
                  <svg
                    width="8"
                    height="5"
                    viewBox="0 0 8 5"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.89865 0.671973C7.94703 0.720353 7.97122 0.775989 7.97122 0.838883C7.97122 0.901776 7.94703 0.957413 7.89865 1.00579L4.51692 4.38753C4.46854 4.43591 4.4129 4.4601 4.35001 4.4601C4.28711 4.4601 4.23148 4.43591 4.1831 4.38753L0.80136 1.00579C0.75298 0.957413 0.72879 0.901776 0.72879 0.838883C0.72879 0.775989 0.75298 0.720353 0.80136 0.671973L1.16421 0.309126C1.21259 0.260746 1.26822 0.236557 1.33112 0.236557C1.39401 0.236557 1.44965 0.260746 1.49803 0.309126L4.35001 3.16111L7.20198 0.309126C7.25036 0.260746 7.306 0.236557 7.36889 0.236557C7.43179 0.236557 7.48742 0.260746 7.5358 0.309126L7.89865 0.671973Z"
                      fill="white"
                    />
                  </svg>
                </Link>
              </li>
              <li>
                <Link to="/#team" className={`link ${useActiveSection('team') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Blog
                </Link>
              </li>
              <li>
                <Link to="/#contact" className={`link ${useActiveSection('contact') ? 'active' : ''}`} onClick={()=>setIsMenuOpen(false)}>
                  Contact
                </Link>
              </li>
            </ul>
            <NavLink to="/cart" className="cart">
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="blue"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.01642 12.9107C6.01642 12.9107 6.07297 12.9673 6.18606 13.0804C6.29916 13.1935 6.3557 13.4048 6.3557 13.7143C6.3557 14.0238 6.24261 14.2917 6.01642 14.5179C5.79023 14.7441 5.52237 14.8571 5.21285 14.8571C4.90332 14.8571 4.63547 14.7441 4.40928 14.5179C4.18309 14.2917 4.06999 14.0238 4.06999 13.7143C4.06999 13.4048 4.18309 13.1369 4.40928 12.9107C4.63547 12.6845 4.90332 12.5714 5.21285 12.5714C5.52237 12.5714 5.79023 12.6845 6.01642 12.9107ZM14.0164 12.9107C14.0164 12.9107 14.073 12.9673 14.1861 13.0804C14.2992 13.1935 14.3557 13.4048 14.3557 13.7143C14.3557 14.0238 14.2426 14.2917 14.0164 14.5179C13.7902 14.7441 13.5224 14.8571 13.2128 14.8571C12.9033 14.8571 12.6355 14.7441 12.4093 14.5179C12.1831 14.2917 12.07 14.0238 12.07 13.7143C12.07 13.4048 12.1831 13.1369 12.4093 12.9107C12.6355 12.6845 12.9033 12.5714 13.2128 12.5714C13.5224 12.5714 13.7902 12.6845 14.0164 12.9107ZM15.4986 4V8.57143C15.4986 8.71429 15.4495 8.84078 15.3512 8.9509C15.253 9.06102 15.1325 9.125 14.9896 9.14286L5.6682 10.2321C5.74559 10.5893 5.78428 10.7976 5.78428 10.8571C5.78428 10.9524 5.71285 11.1429 5.56999 11.4286H13.7843C13.939 11.4286 14.073 11.4851 14.1861 11.5982C14.2992 11.7113 14.3557 11.8452 14.3557 12C14.3557 12.1548 14.2992 12.2887 14.1861 12.4018C14.073 12.5149 13.939 12.5714 13.7843 12.5714H4.64142C4.48666 12.5714 4.35273 12.5149 4.23963 12.4018C4.12654 12.2887 4.06999 12.1548 4.06999 12C4.06999 11.9345 4.0938 11.8408 4.14142 11.7188C4.18904 11.5967 4.23666 11.4896 4.28428 11.3973C4.33189 11.3051 4.39588 11.186 4.47624 11.0402C4.5566 10.8943 4.60273 10.8066 4.61463 10.7768L3.03428 3.42858H1.21285C1.05809 3.42858 0.924157 3.37203 0.811061 3.25893C0.697966 3.14584 0.641418 3.01191 0.641418 2.85715C0.641418 2.70238 0.697966 2.56846 0.811061 2.45536C0.924157 2.34227 1.05809 2.28572 1.21285 2.28572H3.49856C3.5938 2.28572 3.67862 2.30506 3.75303 2.34375C3.82743 2.38244 3.88547 2.42858 3.92713 2.48215C3.9688 2.53572 4.00749 2.60863 4.0432 2.7009C4.07892 2.79316 4.10273 2.87054 4.11463 2.93304C4.12654 2.99554 4.14291 3.08334 4.16374 3.19643C4.18457 3.30953 4.19797 3.38691 4.20392 3.42858H14.9271C15.0819 3.42858 15.2158 3.48512 15.3289 3.59822C15.442 3.71131 15.4986 3.84524 15.4986 4Z"
                  fill="white"
                />
              </svg>
              <span>3</span>
            </NavLink>
          </div>
        </div>
      </div>
    </nav>
  );
};

export default Navbar;
